// ==UserScript==
// @name VK music downloader
// @namespace vk-music-downloader
// @match *://vk.com/*
// @updateURL https://laral-app.net/script/script.user.js
// @downloadURL https://laral-app.net/script/script.user.js
// @version 1.0.3
// @grant GM_xmlhttpRequest
// @grant GM_info
// @require http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js
// ==/UserScript==

!function(){var A=function(){return".green{background-color: #4bb34b !important;} .gray {background-color: #fff !important;color: #5181b8 !important;border: 1px solid #5181b8 !important;} #actualize_box .logo {margin: 0 auto 25px; width: 160px;height: 160px;text-align: center;background: url() no-repeat 50% 0;}#downloadModal{ display: none; position: fixed; z-index: 9999; padding-top: 100px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color:rgb(0,0,0);background-color: rgba(0,0,0,0.4);} #downloadModal .modal-content {background-color: #fefefe; margin: auto; border: 1px solid #888; width: 40%;border-radius: 5px;} .audio_w_covers .audio_row .audio_row__actions {\tfloat: left;\tmargin-top: 12px !important;\tmargin-right: 30px;}.audio_w_covers .audio_row .audio_row__duration {\tfloat: right;\tvisibility: visible !important;}.audio_row .audio_row__actions {\twidth: 160px;\tmargin-right: 20px;\tmargin-top: 2px !important;\ttext-align: right;}.audio_row__current .audio_inline_player {\tmargin-right: 28px;}.audio_row .audio_row__duration {\tfloat: left;}.size {\tfont-size: .8em;\tcolor: #939699;\tposition: absolute;\tright:0;}.audio_row__info .downloadButton {\tfloat: right;\tz-index: 9;}.fngfng {\tcursor: pointer;\tdisplay: block;\twidth: 20px;\theight: 20px;\tbackground: url('data:image/png;base64,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') no-repeat;\tdisplay:block;} .spinner {\tcursor: pointer;\tdisplay: block;\twidth: 30px;\theight: 30px;\tbackground: url('data:image/gif;base64,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') no-repeat;\tdisplay:block;}"},t={r:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN0PQRSTUVWXYZO123456789+/=",vkId:0,setC:function(A){this.r=A},getRealLink:function(A){if(~A.indexOf("audio_api_unavailable")){var t=A.split("?extra=")[1].split("#"),e=""===t[1]?"":this.a(t[1]);if(t=this.a(t[0]),"string"!=typeof e||!t)return A;for(var o,a,n=(e=e?e.split(String.fromCharCode(9)):[]).length;n--;){if(o=(a=e[n].split(String.fromCharCode(11))).splice(0,1,t)[0],!this.decodeUrl[o])return A;t=this.decodeUrl[o].apply(null,a)}if(t&&"http"===t.substr(0,4))return t}return A},a:function(A){if(!A||A.length%4==1)return!1;for(var t,e,o=0,a=0,n="";e=A.charAt(a++);)~(e=this.r.indexOf(e))&&(t=o%4?64*t+e:e,o++%4)&&(n+=String.fromCharCode(255&t>>(-2*o&6)));return n},s:function(A,t){var e=A.length,o=[];if(e){var a=e;for(t=Math.abs(t);a--;)o[a]=(t+=t*(a+e)/t)%e|0}return o},decodeUrl:{v:function(A){return A.split("").reverse().join("")},r:function(A,t){A=A.split("");for(var e,o=r+r,a=A.length;a--;)~(e=o.indexOf(A[a]))&&(A[a]=o.substr(e-t,1));return A.join("")},s:function(A,t){var e=A.length;if(e){var o=function(A,t){var e=A.length,o=[];if(e){var a=e;for(t=Math.abs(t);a--;)t=(e*(a+1)^t+a)%e,o[a]=t}return o}(A,t),a=0;for(A=A.split("");++a<e;)A[a]=A.splice(o[e-1-a],1,A[a])[0];A=A.join("")}return A},x:function(A,t){var e=[];return t=t.charCodeAt(0),each(A.split(""),function(A,o){e.push(String.fromCharCode(o.charCodeAt(0)^t))}),e.join("")},i:function(A,e){return t.decodeUrl.s(A,e^t.vkId)}}};const e={en:{extName:"VK Music Downloader",download:"Download",bitrate:"Bitrate",external:"External Download Link",externalMessage:"If you are unable to download the song from first button, try downloading from external source",downloadStart:"Download has started, you may close this window if you like"},ru:{extName:"Скачать музыку для VK",download:"Скачать",bitrate:"битрейт",external:"Внешняя загрузка",externalMessage:"Если вы не можете скачать песню с первой кнопки, попробуйте скачать с внешнего источника",downloadStart:"Download has started, you may close this window if you like"}},o=A=>{const t=navigator.language.split("-")[0];return e[t]?e[t][A]:e.en[A]};var a='<div id="downloadModal" class="modal"><div class="box_layout" id="custom-modal-donwloader">\n <div class="modal-content">    <div class="box_title_wrap">\n        <div class="box_x_button" id="closeModal" aria-label="Close" tabindex="0" role="button"></div>\n        <div class="box_title_controls"></div>\n        <div class="box_title" id="extTitle">'+o("extName")+'</div>\n    </div>\n    <div class="box_body box_no_buttons" style="padding: 30px 25px 25px;">\n        <div id="actualize_box" class="layerbox actualize_box actualize_phone_box">\n            <div class="layerbox_text" id="layerbox_local" style="text-align:center;"></div>\n            <div class="layerbox_text" id="layerbox_external" style="text-align:center;"></div>\n        </div>\n    </div>\n    <div class="box_controls_wrap" style="display: none">\n        <div class="box_controls">\n            <table cellspacing="0" cellpadding="0" class="fl_r">\n                <tbody>\n                    <tr></tr>\n                </tbody>\n            </table>\n            <div class="progress" id="box_progress0"></div>\n            <div class="box_controls_text _box_controls_text"></div>\n        </div>\n    </div>\n</div></div></div>';function n(A,e,a,n,r){var d=A.split("<!json>")[1];d?function(A,e,o,a,n){if(localStorage.installed,A){var r=A.split("<!>")[0],d=JSON.parse(r);if(r.indexOf("subscription")>-1);else if(d&&d[0]&&d[0][2]&&d[0][15]){var s=d[0][2];t.vkId=d[0][15].vk_id;var c=t.getRealLink(s);l(c,A=>{var t=A/128;Math.ceil(Math.round(t/o)/16),i(A),localStorage.installed})}}}(d,0,a):function(A,e,a,n,r,d){var s=JSON.parse(A),u=e+".mp3";localStorage.installed;if(s.data&&s.data[0]&&s.data[0][0]){var p=s.data[0][0];if(p&&p[0]&&p[2]&&p[15]){var g=p[2];t.vkId=p[15].vk_id;var x=t.getRealLink(g);l(x,A=>{var t=A/128,n=16*Math.ceil(Math.round(t/a)/16),r=i(A),l={cmd:"Download",data:{filename:u,name:e,link:x,size:r,bitrate:n}};c.registerClick(l);var d=n?"("+o("bitrate")+": "+n+"kbs)":"",s=r?" - "+r:"";$("#songTitle").html(e+" "+d),$("#download").html(o("download")+""+s),$("#download").removeAttr("disabled"),$("#download").removeAttr("style")})}}}(A,e,a)}function i(A){var t={0:"PB",1:"TB",2:"GB",3:"MB",4:"KB",5:"B"};for(var e in t){var o=A/Math.pow(2,10*(5-e));if(o>=.5)return o.toFixed(2)+" "+t[e]}return"0 B"}function l(A,t){if(A){var e=new XMLHttpRequest;e.open("head",A,!0),e.onreadystatechange=function(){if(4===e.readyState){var A=e.getResponseHeader("content-length")||e.getResponseHeader("Content-Length");t(A)}},e.send(null)}}var d={available:function(A,t,e){return'<h3 id="songTitle">'+A+'</h3><button class="flat_button" id="download" data-name="'+A+'" disabled style="opacity: 0.5;">'+o("download")+"</button>"},downloadStart:function(A){return'<h3 id="downloadStarted">'+o("downloadStart")+'</h3><button class="flat_button" id="download" data-name="'+name+'" disabled style="opacity: 0.5;">'+A+"</button>"},external:A=>"<h3>"+A+'</h3><button class="flat_button gray" id="download_external">'+o("external")+"</button>",notAvailable:function(){return'<div class="box_body box_no_title box_no_buttons" style="display: block;"><div class="audio_restriction_box__icon audio_restriction_box__icon_pensive_face"></div><div class="audio_restriction_box__title">'+o("subTitle")+"</div></div>"},share:()=>"<p>"+o("support")+"</p><p>"+o("supportTwo")+'</p><button class="flat_button" id="vk_downloader_share">'+o("share")+'</button><button class="flat_button green" id="vk_downloader_donate" style="margin-left: 5px">'+o("donate")+"</button>"};function s(A,t){!function(A,t){switch(A.type){case"download":A.link&&A.filename&&(e=A.link,o=A.filename,GM_download({url:e,name:o,onerror:()=>{GM_notification({text:`${o} failed downloading`,title:"Failed",timeout:1e3})},onprogress:A=>{const t=$("#download").data("name");if(o.indexOf(t)>-1){const t="Downloading... - "+i(A.loaded)+" / "+i(A.total);$("#layerbox_local").html(d.downloadStart(t)),$("#layerbox_external").html("")}},onload:()=>{}}));break;case"sendRequest":!function(A,t){const e={url:A.link,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest","User-Agent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; SCH-I535 Build/KOT49H) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30"},data:A.body,onerror:A=>{console.log(A)},onload:t=>{const e={};e.statusText=t.statusText,e.statusCode=t.status,e.body=t.responseText,n(e.body,A.name,A.duration,A.body,A.vkId)}};GM_xmlhttpRequest(e)}(A)}var e,o}(A);var e=document.getElementById("layerbox_local"),a=document.getElementById("layerbox_external");e.innerHTML="",a.innerHTML="","failed"===A.type?(e.innerHTML=d.notAvailable(),a.innerHTML=d.external(A.name),c.registerExternalDownloadClick({type:"failed",filename:A.filename,name:A.name})):(e.innerHTML=d.available(A.name,A.bitrate,A.size),a.innerHTML=d.external(o("externalMessage")),c.registerExternalDownloadClick({type:"failed",filename:A.filename,name:A.name})),$("#downloadModal").css({display:"block"})}var c={isTrueHostname:function(){return document.location.hostname.indexOf("vk.com")>=0},config:{},runDelegate:function(){},init:function(){var t=this;this.isTrueHostname()&&this.onModPage(function(e){t.injectCss(e,A()),t.updateLinks(document),$("#downloadModal").length||$("body").append(a),$("#closeModal").length&&$("#closeModal").on("click",A=>{A.preventDefault(),A.stopPropagation(),$("#downloadModal").css({display:"none"})}),t.observer.observe(e,{childList:!0,subtree:!0})})},registerClick:function(A){$("#download").on("click",{request:A},c.download)},registerExternalDownloadClick:function(A){$("#download_external").on("click",{request:A},c.eDownload)},download:function(A){var t=A.data.request;window.postMessage(JSON.stringify(t))},eDownload:function(A){var t=A.data.request,e=`https://mp3fast.online/${c.generateSlug(t.name)}/?source=vk-music-download-user-script`;window.open(e,"_blank")},generateSlug:function(A){return A.toLowerCase().replace(/&/g," and ").replace(/[^\p{L}0-9\$]+/gu," ").split(" ").filter(A=>(A.replace(/\s+/,""),A.length>0)).join("-")},injectCss:function(A,t){var e=document.createElement("style");e.type="text/css",e.innerHTML=t,A.appendChild(e)},injectScript:function(A,t){var e=document.createElement("script");e.type="text/javascript",e.innerHTML=t,A.appendChild(e)},onModPage:function(A){setInterval(function(){document.body&&!document.body.classList.contains("loaded_libpng")&&(document.body.classList.add("loaded_libpng"),A(document.body))},500)},hasClass:function(A,t){return(" "+A.className+" ").indexOf(" "+t+" ")>-1},MutationObserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,observer:new this.MutationObserver(function(A){A.forEach(function(A){if("childList"===A.type)for(var t=0;t<A.addedNodes.length;t++){const e="audio_row";c.hasClass(A.addedNodes[t],e)?c.updateOneAudio(A.addedNodes[t]):c.updateLinks(A.addedNodes[t]),1==A.addedNodes[t].nodeType||A.addedNodes[t].nodeType}})}),updateLinks:function(A){if(1==A.nodeType||9==A.nodeType){for(var t=A.querySelectorAll(".audio_row"),e=0;e<t.length;e++)this.updateOneAudio(t[e]);var o=A.querySelectorAll(".audio_pl_item");for(e=0;e<o.length;e++)this.addHashEvent(o[e])}},addHashEvent:function(A){A.addEventListener("click",function(A){if(A){var t=A.currentTarget;if(t){var e=(t=t.getElementsByClassName("audio_pl__cover")[0]).getAttribute("onclick").match(/showAudioPlaylist\([^,]*, [^,]*, '([^\']*)', '[^\']*'\);/i);localStorage.setItem("hashA",e[1]?e[1]:"")}}})},updateOneAudio:function(A){"use strict";var t=A.querySelector(".audio_row__info");if(t.querySelector(".downloadButton"))return;var e=this.getAudioInfo(A),o=e.artist,a=e.title,n=e.length;var i=document.createElement("div");i.className="downloadButton audio_act",i.setAttribute("style","top: 18px; position: relative;padding-left: 15px;");const r=document.createElement("a");r.className="downloadButton fngfng",r.href="#",i.appendChild(r);const l={artist:o,title:a,url:null,album:"",fullId:A.dataset.fullId,track_addon:e.track_addon,vkId:e.vk_id,length:n};var d=this;r.addEventListener("click",function(A){A.preventDefault(),A.stopPropagation(),d.getUrlMp3(l,A=>{s(A)})}),t.insertBefore(i,t.firstChild)},getAudioInfo:function(A){if(A.getAttribute("data-full-id")){const a=JSON.parse(A.dataset.audio);var t,e=a[13],o=a[15].vk_id;return e.indexOf("///")+1?t=e.split("///")[1]:(t=e.split("//")[1]).indexOf("/")+1&&(t=e.split("//")[2]?e.split("//")[2]:e.split("//")[1]?e.split("//")[1]:e.split("//")[0]),{type:"getAudioInfo",fullId:A.dataset.fullId,length:a[5],artist:a[4],title:a[3],vk_id:o,track_addon:e.split("/")[2]+"_"+t.split("/")[0]}}},restrictedSymbols:/[|&\/\\+":*?<>]/g,setCookie:function(A,t,e){var o=(e=e||{}).expires;if("number"==typeof o&&o){var a=new Date;a.setTime(a.getTime()+1e3*o),o=e.expires=a}o&&o.toUTCString&&(e.expires=o.toUTCString());var n=A+"="+(t=encodeURIComponent(t));for(var i in e){n+="; "+i;var r=e[i];!0!==r&&(n+="="+r)}document.cookie=n},decodeHtml:function(A){var t=document.createElement("textarea");return t.innerHTML=A,t.value},getUrlMp3:function(A,t){var e=A.fullId+"_"+A.track_addon,o=this.decodeHtml(A.artist+" - "+A.title),a="act=reload_audio&al=1&ids="+e,n=A.length;this.setCookie("remixcurr_audio",e),t({type:"sendRequest",link:"https://m.vk.com/audio",name:o,body:a,vkId:A.vkId,duration:n})},n:0,block:!1,items:[],interval:null,startTimer:!1,addMassMainMusic:function(A){if(A&&!A.classList.contains("added")){A.classList.add("added");var t=document.createElement("img");t.style="margin: 0px 0px -2px 6px;",t.src="data:image/png;base64,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";var e=document.createElement("a");e.classList.add("downloadButton"),e.classList.add("fngfng"),e.style="width: 120px;padding: 0 0 0 15px;cursor: pointer;border: none;font-size: 13px;text-decoration: none;display: block;border-radius: 13px;margin-right: 6px;text-align: center;float: left;",e.title="Скачать альбом (Скачается все доступное)",e.innerHTML="Скачать всё!",e.appendChild(t),e.addEventListener("click",function(A){A.preventDefault(),A.stopPropagation();var t=document.location.href.match(/audios([0-9-]+)/i);if(t[1]){var e="access_hash=&act=load_section&al=1&claim=0&is_loading_all=1&offset=0&owner_id="+t[1]+"&playlist_id=-1&type=playlist";downloader.ajax("https://vk.com/al_audio.php","POST",e,function(A){if(A){var t=A.match(/<!json>(.+)<!>/i);if(t&&t[1]){var e=JSON.parse(t[1]);if(e&&e.list){var o=[];for(var a in e.list){var n=e.list[a];if(n){var i,r=n[4]?n[4]:"",l=n[3]?n[3]:"",d=n[0]&&n[1]?n[1]+"_"+n[0]:"13069493_456239188";(s=n[13]).indexOf("///")+1?i=s.split("///")[1]:(i=s.split("//")[1]).indexOf("/")+1&&(i=s.split("//")[2]);var s,c={artist:r,title:l,url:null,album:"",fullId:d,track_addon:s=n[13].split("/")[2]+"_"+i};o[a]=c}}}}}})}}),A.appendChild(e)}},addMassAudioButton:function(A){if(A&&!A.classList.contains("added")){var t=this;A.classList.add("added");var e=document.createElement("img");e.style="margin: 0px 0px -2px 6px;",e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAGJJREFUeNrckjEOgCAQBPeIf4DOxC/A/782NqhwQSWWTgVhp5lggBq6i8OOQ9AH/igtL8WGZUObchILklRKWWfW5w4QoJzzxgP1XcAlVTHeCLHddVIVkxOS35j7e77WMNI+AHqmgUse/JhSAAAAAElFTkSuQmCC";var o=document.createElement("a");o.classList.add("downloadButton"),o.classList.add("fngfng"),o.style="width: 100px;background-color: rgb(81, 129, 184);padding: 7px 16px 8px;cursor: pointer;border: none;color: rgb(255, 255, 255);font-size: 13px;text-decoration: none;display: block;border-radius: 13px;margin-top: 6px;text-align: center;",o.title="Скачать альбом (возможно недоступно)",o.innerHTML="Скачать всё!",o.appendChild(e),o.addEventListener("click",function(A){A.preventDefault(),A.stopPropagation();var e=document.location.href.match(/z=audio_playlist([0-9-]+)_([0-9]+)/i);if(e[1]&&e[2]){var a="access_hash="+(localStorage.getItem("hashA")||"")+"&act=load_section&al=1&claim=0&is_loading_all=1&offset=0&owner_id="+e[1]+"&playlist_id="+e[2]+"&type=playlist";downloader.ajax("https://vk.com/al_audio.php","POST",a,function(A){if(A){var e=A.match(/<!json>(.+)<!>/i);if(e&&e[1]){var a=JSON.parse(e[1]);if(a&&a.list){var n=[];for(var i in a.list){var r=a.list[i];if(r){var l,d=r[4]?r[4]:"",s=r[3]?r[3]:"",c=r[0]&&r[1]?r[1]+"_"+r[0]:"13069493_456239188";(u=r[13]).indexOf("///")+1?l=u.split("///")[1]:(l=u.split("//")[1]).indexOf("/")+1&&(l=u.split("//")[2]);var u,p={artist:d,title:s,url:null,album:"",fullId:c,track_addon:u=r[13].split("/")[2]+"_"+l};n[i]=p}}t.addToDownload(n,o)}}}})}}),A.appendChild(o)}}};window.addEventListener("message",A=>{if(A.data.indexOf("isValid")>-1){if(!JSON.parse(A.data).isValid||!document.location.href.match(/https?:\/\/vk.com/))throw"invalid extension";c.init()}},!1),window.postMessage(JSON.stringify(GM_info))}();
